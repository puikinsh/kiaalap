<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kiaalap Edit Library Asset - Modify existing library resource information">
    <meta name="keywords" content="education, dashboard, library, edit asset, book, management, university">
    <meta name="author" content="Kiaalap">

    <!-- Preconnect -->
    <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
    <link rel="preconnect" href="https://ui-avatars.com" crossorigin>

    <title>Kiaalap - Edit Library Asset</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <!-- Critical CSS -->
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #f5f7fa; }
        .sidebar { position: fixed; left: 0; top: 0; width: 260px; height: 100vh; background: #1f2937; z-index: 1040; }
        .main-wrapper { margin-left: 260px; min-height: 100vh; transition: margin-left 0.3s ease; }
        .top-navbar { background: white; height: 64px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .dashboard-content { padding: 24px; }

        /* Loading animation */
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .loading { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; background: #e5e7eb; }

        /* Form styling */
        .form-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: none;
        }
        .preview-area {
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            background: #f9fafb;
            transition: border-color 0.3s ease;
        }
        .preview-area.drag-over {
            border-color: #6366f1;
            background: #f0f0ff;
        }
        .preview-image {
            max-width: 200px;
            max-height: 150px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        .section-header {
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }
        .required-field::after {
            content: " *";
            color: #ef4444;
        }
        .asset-info-card {
            border-left: 4px solid #6366f1;
            background: #f8fafc;
        }
        .history-item {
            border-left: 3px solid #e5e7eb;
            padding-left: 1rem;
            margin-bottom: 1rem;
        }
        .danger-zone {
            border: 1px solid #fecaca;
            background: #fef2f2;
            border-radius: 8px;
            padding: 1rem;
        }
    </style>

    <!-- Async CSS Loading -->
    <link rel="preload" href="node_modules/bootstrap/dist/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="node_modules/bootstrap-icons/font/bootstrap-icons.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="src/css/dashboard.css" as="style" onload="this.onload=null;this.rel='stylesheet'">

    <!-- Noscript Fallback -->
    <noscript>
        <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="node_modules/bootstrap-icons/font/bootstrap-icons.css">
        <link rel="stylesheet" href="src/css/dashboard.css">
    </noscript>
</head>
<body>
    <!-- Skip Link -->
    <a href="#main-content" class="visually-hidden-focusable">Skip to main content</a>

    <div class="dashboard-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-brand">
                    <h5>
                        <i class="bi bi-mortarboard-fill"></i>
                        Kiaalap
                    </h5>
                    <button class="sidebar-close" id="sidebarClose">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="menu-section">
                    <div class="menu-section-title">Main</div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#dashboard" data-bs-target="#dashboardSubmenu" aria-expanded="false">
                                <i class="bi bi-speedometer2"></i>
                                <span>Dashboard</span>
                            </a>
                            <ul id="dashboardSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="index.html">Dashboard v.1</a></li>
                                <li><a class="nav-link" href="index-1.html">Dashboard v.2</a></li>
                                <li><a class="nav-link" href="index-2.html">Dashboard v.3</a></li>
                                <li><a class="nav-link" href="analytics.html">Analytics</a></li>
                                <li><a class="nav-link" href="widgets.html">Widgets</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="events.html">
                                <i class="bi bi-calendar-event"></i>
                                <span>Events</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="menu-section">
                    <div class="menu-section-title">Academic</div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#professors" data-bs-target="#professorsSubmenu" aria-expanded="false">
                                <i class="bi bi-person-badge"></i>
                                <span>Professors</span>
                            </a>
                            <ul id="professorsSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="all-professors.html">All Professors</a></li>
                                <li><a class="nav-link" href="add-professor.html">Add Professor</a></li>
                                <li><a class="nav-link" href="edit-professor.html">Edit Professor</a></li>
                                <li><a class="nav-link" href="professor-profile.html">Professor Profile</a></li>
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#students" data-bs-target="#studentsSubmenu" aria-expanded="false">
                                <i class="bi bi-people"></i>
                                <span>Students</span>
                            </a>
                            <ul id="studentsSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="all-students.html">All Students</a></li>
                                <li><a class="nav-link" href="add-student.html">Add Student</a></li>
                                <li><a class="nav-link" href="edit-student.html">Edit Student</a></li>
                                <li><a class="nav-link" href="student-profile.html">Student Profile</a></li>
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#courses" data-bs-target="#coursesSubmenu" aria-expanded="false">
                                <i class="bi bi-book"></i>
                                <span>Courses</span>
                            </a>
                            <ul id="coursesSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="all-courses.html">All Courses</a></li>
                                <li><a class="nav-link" href="add-course.html">Add Course</a></li>
                                <li><a class="nav-link" href="edit-course.html">Edit Course</a></li>
                                <li><a class="nav-link" href="course-info.html">Course Info</a></li>
                                <li><a class="nav-link" href="course-payment.html">Course Payment</a></li>
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link has-submenu active" href="#library" data-bs-target="#librarySubmenu" aria-expanded="true">
                                <i class="bi bi-book-half"></i>
                                <span>Library</span>
                            </a>
                            <ul id="librarySubmenu" class="submenu collapse show list-unstyled">
                                <li><a class="nav-link" href="library-assets.html">Library Assets</a></li>
                                <li><a class="nav-link" href="add-library-assets.html">Add Asset</a></li>
                                <li><a class="nav-link active" href="edit-library-assets.html">Edit Asset</a></li>
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#departments" data-bs-target="#departmentsSubmenu" aria-expanded="false">
                                <i class="bi bi-building"></i>
                                <span>Departments</span>
                            </a>
                            <ul id="departmentsSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="departments.html">All Departments</a></li>
                                <li><a class="nav-link" href="add-department.html">Add Department</a></li>
                                <li><a class="nav-link" href="edit-department.html">Edit Department</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="menu-section">
                    <div class="menu-section-title">Communication</div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#mailbox" data-bs-target="#mailboxSubmenu" aria-expanded="false">
                                <i class="bi bi-envelope"></i>
                                <span>Mailbox</span>
                            </a>
                            <ul id="mailboxSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="mailbox.html">Inbox</a></li>
                                <li><a class="nav-link" href="mailbox-compose.html">Compose</a></li>
                                <li><a class="nav-link" href="mailbox-view.html">View Mail</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="menu-section">
                    <div class="menu-section-title">Interface</div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#components" data-bs-target="#componentsSubmenu" aria-expanded="false">
                                <i class="bi bi-puzzle"></i>
                                <span>Components</span>
                            </a>
                            <ul id="componentsSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="buttons.html">Buttons</a></li>
                                <li><a class="nav-link" href="alerts.html">Alerts</a></li>
                                <li><a class="nav-link" href="modals.html">Modals</a></li>
                                <li><a class="nav-link" href="tabs.html">Tabs</a></li>
                                <li><a class="nav-link" href="accordion.html">Accordion</a></li>
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#forms" data-bs-target="#formsSubmenu" aria-expanded="false">
                                <i class="bi bi-card-text"></i>
                                <span>Forms</span>
                            </a>
                            <ul id="formsSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="basic-form-element.html">Basic Elements</a></li>
                                <li><a class="nav-link" href="advance-form-element.html">Advanced Elements</a></li>
                                <li><a class="nav-link" href="password-meter.html">Password Meter</a></li>
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#charts" data-bs-target="#chartsSubmenu" aria-expanded="false">
                                <i class="bi bi-bar-chart"></i>
                                <span>Charts</span>
                            </a>
                            <ul id="chartsSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="line-charts.html">Line Charts</a></li>
                                <li><a class="nav-link" href="area-charts.html">Area Charts</a></li>
                                <li><a class="nav-link" href="bar-charts.html">Bar Charts</a></li>
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link has-submenu" href="#tables" data-bs-target="#tablesSubmenu" aria-expanded="false">
                                <i class="bi bi-table"></i>
                                <span>Tables</span>
                            </a>
                            <ul id="tablesSubmenu" class="submenu collapse list-unstyled">
                                <li><a class="nav-link" href="static-table.html">Static Table</a></li>
                                <li><a class="nav-link" href="data-table.html">Data Table</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="main-wrapper">
            <!-- Header -->
            <nav class="navbar top-navbar">
                <div class="container-fluid d-flex align-items-center h-100">
                    <button class="hamburger-menu" id="sidebarToggle" aria-label="Toggle sidebar">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>

                    <form class="search-form flex-grow-1 mx-3" role="search">
                        <div class="input-group">
                            <span class="input-group-text bg-transparent border-end-0">
                                <i class="bi bi-search"></i>
                            </span>
                            <input class="form-control border-start-0" type="search" placeholder="Search..." aria-label="Search">
                        </div>
                    </form>

                    <div class="navbar-actions d-flex align-items-center gap-2">
                        <div class="dropdown">
                            <button class="navbar-action-btn" data-bs-toggle="dropdown" aria-label="Notifications">
                                <i class="bi bi-bell"></i>
                                <span class="notification-badge">2</span>
                            </button>
                            <div class="dropdown-menu dropdown-menu-end">
                                <div class="dropdown-header">
                                    <h6 class="mb-0">Notifications</h6>
                                </div>
                                <div class="dropdown-body">
                                    <a class="dropdown-item notification-item" href="#">
                                        <div class="notification-icon bg-success">
                                            <i class="bi bi-check-circle"></i>
                                        </div>
                                        <div class="notification-content">
                                            <div class="notification-title">Asset updated successfully</div>
                                            <div class="notification-time">1 minute ago</div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item notification-item" href="#">
                                        <div class="notification-icon bg-warning">
                                            <i class="bi bi-exclamation-triangle"></i>
                                        </div>
                                        <div class="notification-content">
                                            <div class="notification-title">Review pending changes</div>
                                            <div class="notification-time">5 minutes ago</div>
                                        </div>
                                    </a>
                                </div>
                                <div class="dropdown-footer">
                                    <a href="#" class="dropdown-item text-center">View all notifications</a>
                                </div>
                            </div>
                        </div>

                        <div class="dropdown">
                            <button class="navbar-action-btn" data-bs-toggle="dropdown" aria-label="Messages">
                                <i class="bi bi-envelope"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-end">
                                <div class="dropdown-header">
                                    <h6 class="mb-0">Messages</h6>
                                </div>
                                <div class="dropdown-body">
                                    <div class="text-center py-3 text-muted">
                                        No new messages
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="dropdown">
                            <button class="user-menu-btn" data-bs-toggle="dropdown" aria-label="User menu">
                                <img src="https://ui-avatars.com/api/?name=John+Doe&background=6366f1&color=fff"
                                     alt="User"
                                     class="user-avatar"
                                     loading="lazy">
                                <span class="user-info">
                                    <span class="user-name">John Doe</span>
                                    <span class="user-role">Admin</span>
                                </span>
                                <i class="bi bi-chevron-down"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-end">
                                <div class="dropdown-header">
                                    <div class="d-flex align-items-center">
                                        <img src="https://ui-avatars.com/api/?name=John+Doe&background=6366f1&color=fff"
                                             alt="User"
                                             class="user-avatar me-2"
                                             loading="lazy">
                                        <div>
                                            <div class="fw-medium">John Doe</div>
                                            <small class="text-muted">admin@kiaalap.edu</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="#">
                                    <i class="bi bi-person me-2"></i>
                                    Profile
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="bi bi-gear me-2"></i>
                                    Settings
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="login.html">
                                    <i class="bi bi-box-arrow-right me-2"></i>
                                    Logout
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Search Backdrop -->
            <div class="search-backdrop" id="searchBackdrop"></div>

            <!-- Sidebar Overlay -->
            <div class="sidebar-overlay" id="sidebarOverlay"></div>

            <!-- Page Content -->
            <main class="dashboard-content" id="main-content">
                <div class="container-fluid">
                    <div class="dashboard-row">
                        <!-- Page Header -->
                        <div class="dashboard-card mb-4">
                            <div class="dashboard-card-header">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h1 class="h3 mb-1">Edit Library Asset</h1>
                                        <nav aria-label="breadcrumb">
                                            <ol class="breadcrumb">
                                                <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
                                                <li class="breadcrumb-item"><a href="#">Library</a></li>
                                                <li class="breadcrumb-item"><a href="library-assets.html">Assets</a></li>
                                                <li class="breadcrumb-item active" aria-current="page">Edit Asset</li>
                                            </ol>
                                        </nav>
                                    </div>
                                    <div class="d-flex gap-2">
                                        <a href="library-assets.html" class="btn btn-outline-secondary">
                                            <i class="bi bi-arrow-left me-1"></i>
                                            Back to Assets
                                        </a>
                                        <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#historyModal">
                                            <i class="bi bi-clock-history me-1"></i>
                                            View History
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Asset Information Card -->
                        <div class="dashboard-card asset-info-card mb-4">
                            <div class="dashboard-card-body">
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <h5 class="mb-1">Introduction to Computer Science</h5>
                                <p class="text-muted mb-1">by Thomas H. Cormen, Charles E. Leiserson</p>
                                <div class="d-flex gap-3 small text-muted">
                                    <span><i class="bi bi-bookmark me-1"></i>Asset ID: LIB-CS-001</span>
                                    <span><i class="bi bi-calendar me-1"></i>Added: Dec 15, 2024</span>
                                    <span><i class="bi bi-person me-1"></i>Last modified by: John Doe</span>
                                </div>
                            </div>
                            <div class="col-md-4 text-end">
                                <span class="badge bg-success-subtle text-success fs-6">Available</span>
                                <div class="small text-muted mt-1">Main Library - Section A1</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Edit Asset Form -->
                <form id="editAssetForm" novalidate>
                    <div class="dashboard-row">
                        <div class="row g-3">
                            <!-- Basic Information -->
                            <div class="col-lg-8">
                            <div class="dashboard-card">
                                <div class="dashboard-card-header">
                                    <h5 class="section-header mb-0">
                                        <i class="bi bi-info-circle me-2"></i>
                                        Basic Information
                                    </h5>
                                </div>
                                <div class="dashboard-card-body">
                                    <div class="row g-3">
                                        <div class="col-md-8">
                                            <label for="assetTitle" class="form-label required-field">Title</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="assetTitle"
                                                   name="title"
                                                   value="Introduction to Computer Science"
                                                   required
                                                   aria-describedby="titleHelp">
                                            <div class="invalid-feedback">
                                                Please provide a valid title.
                                            </div>
                                            <small id="titleHelp" class="form-text text-muted">
                                                The main title of the book, journal, or media.
                                            </small>
                                        </div>

                                        <div class="col-md-4 px-2">
                                            <label for="assetCategory" class="form-label required-field">Category</label>
                                            <select class="form-select" id="assetCategory" name="category" required>
                                                <option value="">Select category</option>
                                                <option value="books" selected>Books</option>
                                                <option value="journals">Journals</option>
                                                <option value="digital">Digital Media</option>
                                                <option value="reference">Reference Materials</option>
                                                <option value="periodicals">Periodicals</option>
                                                <option value="audio">Audio Materials</option>
                                                <option value="video">Video Materials</option>
                                            </select>
                                            <div class="invalid-feedback">
                                                Please select a category.
                                            </div>
                                        </div>

                                        <div class="col-md-6 px-2">
                                            <label for="assetAuthor" class="form-label">Author(s)</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="assetAuthor"
                                                   name="author"
                                                   value="Thomas H. Cormen, Charles E. Leiserson"
                                                   aria-describedby="authorHelp">
                                            <small id="authorHelp" class="form-text text-muted">
                                                Separate multiple authors with commas.
                                            </small>
                                        </div>

                                        <div class="col-md-6 px-2">
                                            <label for="assetPublisher" class="form-label">Publisher</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="assetPublisher"
                                                   name="publisher"
                                                   value="MIT Press">
                                        </div>

                                        <div class="col-md-4 px-2">
                                            <label for="assetISBN" class="form-label">ISBN/ISSN</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="assetISBN"
                                                   name="isbn"
                                                   value="978-0-262-03384-8"
                                                   aria-describedby="isbnHelp">
                                            <small id="isbnHelp" class="form-text text-muted">
                                                International Standard Book/Serial Number.
                                            </small>
                                        </div>

                                        <div class="col-md-4 px-2">
                                            <label for="assetEdition" class="form-label">Edition</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="assetEdition"
                                                   name="edition"
                                                   value="4th">
                                        </div>

                                        <div class="col-md-4 px-2">
                                            <label for="assetYear" class="form-label">Publication Year</label>
                                            <input type="number"
                                                   class="form-control"
                                                   id="assetYear"
                                                   name="year"
                                                   value="2022"
                                                   min="1900"
                                                   max="2030">
                                        </div>

                                        <div class="col-12">
                                            <label for="assetDescription" class="form-label">Description</label>
                                            <textarea class="form-control"
                                                      id="assetDescription"
                                                      name="description"
                                                      rows="4"
                                                      aria-describedby="descHelp">A comprehensive introduction to computer algorithms and data structures. This book provides a thorough coverage of fundamental computer science concepts with practical examples and exercises.</textarea>
                                            <small id="descHelp" class="form-text text-muted">
                                                Provide a summary, table of contents, or key topics covered.
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Library Details -->
                            <div class="card form-card mt-4">
                                <div class="dashboard-card-header">
                                    <h5 class="section-header mb-0">
                                        <i class="bi bi-building me-2"></i>
                                        Library Details
                                    </h5>
                                </div>
                                <div class="dashboard-card-body">
                                    <div class="row g-3">
                                        <div class="col-md-6 px-2">
                                            <label for="assetLocation" class="form-label required-field">Location</label>
                                            <select class="form-select" id="assetLocation" name="location" required>
                                                <option value="">Select location</option>
                                                <option value="main-library" selected>Main Library</option>
                                                <option value="science-library">Science Library</option>
                                                <option value="medical-library">Medical Library</option>
                                                <option value="digital-archive">Digital Archive</option>
                                                <option value="reference-section">Reference Section</option>
                                                <option value="periodicals-section">Periodicals Section</option>
                                            </select>
                                            <div class="invalid-feedback">
                                                Please select a location.
                                            </div>
                                        </div>

                                        <div class="col-md-6 px-2">
                                            <label for="assetStatus" class="form-label required-field">Status</label>
                                            <select class="form-select" id="assetStatus" name="status" required>
                                                <option value="">Select status</option>
                                                <option value="available" selected>Available</option>
                                                <option value="checked-out">Checked Out</option>
                                                <option value="reserved">Reserved</option>
                                                <option value="maintenance">Under Maintenance</option>
                                                <option value="missing">Missing</option>
                                                <option value="damaged">Damaged</option>
                                            </select>
                                            <div class="invalid-feedback">
                                                Please select a status.
                                            </div>
                                        </div>

                                        <div class="col-md-4 px-2">
                                            <label for="assetCopies" class="form-label">Number of Copies</label>
                                            <input type="number"
                                                   class="form-control"
                                                   id="assetCopies"
                                                   name="copies"
                                                   value="3"
                                                   min="1">
                                        </div>

                                        <div class="col-md-4 px-2">
                                            <label for="assetPrice" class="form-label">Purchase Price</label>
                                            <div class="input-group">
                                                <span class="input-group-text">$</span>
                                                <input type="number"
                                                       class="form-control"
                                                       id="assetPrice"
                                                       name="price"
                                                       value="89.99"
                                                       step="0.01"
                                                       min="0">
                                            </div>
                                        </div>

                                        <div class="col-md-4 px-2">
                                            <label for="assetAcquisition" class="form-label">Acquisition Date</label>
                                            <input type="date"
                                                   class="form-control"
                                                   id="assetAcquisition"
                                                   name="acquisitionDate"
                                                   value="2024-12-15">
                                        </div>

                                        <div class="col-md-6 px-2">
                                            <label for="assetCallNumber" class="form-label">Call Number</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="assetCallNumber"
                                                   name="callNumber"
                                                   value="QA76.6.C662"
                                                   aria-describedby="callHelp">
                                            <small id="callHelp" class="form-text text-muted">
                                                Library classification number for shelving.
                                            </small>
                                        </div>

                                        <div class="col-md-6 px-2">
                                            <label for="assetBarcode" class="form-label">Barcode</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="assetBarcode"
                                                   name="barcode"
                                                   value="LIBINT1703451678"
                                                   readonly>
                                            <small class="form-text text-muted">Barcode cannot be modified after creation.</small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Information -->
                            <div class="card form-card mt-4">
                                <div class="dashboard-card-header">
                                    <h5 class="section-header mb-0">
                                        <i class="bi bi-plus-circle me-2"></i>
                                        Additional Information
                                    </h5>
                                </div>
                                <div class="dashboard-card-body">
                                    <div class="row g-3">
                                        <div class="col-md-6 px-2">
                                            <label for="assetLanguage" class="form-label">Language</label>
                                            <select class="form-select" id="assetLanguage" name="language">
                                                <option value="">Select language</option>
                                                <option value="english" selected>English</option>
                                                <option value="spanish">Spanish</option>
                                                <option value="french">French</option>
                                                <option value="german">German</option>
                                                <option value="chinese">Chinese</option>
                                                <option value="japanese">Japanese</option>
                                                <option value="arabic">Arabic</option>
                                                <option value="other">Other</option>
                                            </select>
                                        </div>

                                        <div class="col-md-6 px-2">
                                            <label for="assetPages" class="form-label">Number of Pages</label>
                                            <input type="number"
                                                   class="form-control"
                                                   id="assetPages"
                                                   name="pages"
                                                   value="1312"
                                                   min="1">
                                        </div>

                                        <div class="col-12">
                                            <label for="assetSubjects" class="form-label">Subject Keywords</label>
                                            <input type="text"
                                                   class="form-control"
                                                   id="assetSubjects"
                                                   name="subjects"
                                                   value="Computer Science, Algorithms, Data Structures, Programming"
                                                   aria-describedby="subjectsHelp">
                                            <small id="subjectsHelp" class="form-text text-muted">
                                                e.g., Computer Science, Programming, Algorithms, Data Structures
                                            </small>
                                        </div>

                                        <div class="col-12">
                                            <label for="assetNotes" class="form-label">Internal Notes</label>
                                            <textarea class="form-control"
                                                      id="assetNotes"
                                                      name="notes"
                                                      rows="3"
                                                      aria-describedby="notesHelp">Popular textbook for CS101 and CS102 courses. High demand during fall semester.</textarea>
                                            <small id="notesHelp" class="form-text text-muted">
                                                Private notes visible only to library staff.
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Danger Zone -->
                            <div class="card form-card mt-4">
                                <div class="dashboard-card-header">
                                    <h5 class="section-header mb-0 text-danger">
                                        <i class="bi bi-exclamation-triangle me-2"></i>
                                        Danger Zone
                                    </h5>
                                </div>
                                <div class="dashboard-card-body">
                                    <div class="danger-zone">
                                        <h6 class="text-danger mb-2">Delete Asset</h6>
                                        <p class="text-muted mb-3">Once you delete an asset, there is no going back. Please be certain.</p>
                                        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">
                                            <i class="bi bi-trash me-2"></i>
                                            Delete This Asset
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                            <!-- Cover Image and Actions -->
                            <div class="col-lg-4">
                            <div class="dashboard-card">
                                <div class="dashboard-card-header">
                                    <h5 class="section-header mb-0">
                                        <i class="bi bi-image me-2"></i>
                                        Cover Image
                                    </h5>
                                </div>
                                <div class="dashboard-card-body">
                                    <div id="imagePreviewContainer" class="text-center">
                                        <img id="previewImg"
                                             src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop&crop=face"
                                             alt="Current cover image"
                                             class="preview-image mb-3"
                                             loading="lazy">
                                        <div class="d-grid gap-2">
                                            <button type="button" class="btn btn-outline-primary btn-sm" id="selectImageBtn">
                                                <i class="bi bi-camera me-1"></i>
                                                Change Image
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-sm" id="removeImageBtn">
                                                <i class="bi bi-trash me-1"></i>
                                                Remove Image
                                            </button>
                                        </div>
                                        <input type="file" id="coverImage" name="coverImage" accept="image/*" class="d-none">
                                    </div>
                                    <div class="preview-area d-none" id="imagePreview">
                                        <i class="bi bi-cloud-upload fs-1 text-muted mb-3"></i>
                                        <p class="mb-2">Drop image here or <button type="button" class="btn btn-link p-0">browse files</button></p>
                                        <small class="text-muted">Recommended: 300x400px, JPG or PNG, max 5MB</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Actions -->
                            <div class="card form-card mt-4">
                                <div class="dashboard-card-header">
                                    <h5 class="section-header mb-0">
                                        <i class="bi bi-gear me-2"></i>
                                        Actions
                                    </h5>
                                </div>
                                <div class="dashboard-card-body">
                                    <div class="d-grid gap-2">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="bi bi-check-lg me-2"></i>
                                            Update Asset
                                        </button>
                                        <button type="button" class="btn btn-outline-secondary" id="previewAsset">
                                            <i class="bi bi-eye me-2"></i>
                                            Preview Changes
                                        </button>
                                        <button type="button" class="btn btn-outline-info" id="duplicateAsset">
                                            <i class="bi bi-files me-2"></i>
                                            Duplicate Asset
                                        </button>
                                        <hr>
                                        <a href="library-assets.html" class="btn btn-outline-danger">
                                            <i class="bi bi-x-lg me-2"></i>
                                            Cancel Changes
                                        </a>
                                    </div>

                                    <div class="mt-4">
                                        <h6 class="text-muted small mb-2">QUICK ACTIONS</h6>
                                        <div class="d-grid gap-1">
                                            <button type="button" class="btn btn-outline-secondary btn-sm" id="resetForm">
                                                <i class="bi bi-arrow-clockwise me-1"></i>
                                                Reset Changes
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#checkoutModal">
                                                <i class="bi bi-bookmark-check me-1"></i>
                                                Check Out
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Change Log -->
                            <div class="card form-card mt-4">
                                <div class="dashboard-card-header">
                                    <h5 class="section-header mb-0">
                                        <i class="bi bi-clock-history me-2"></i>
                                        Recent Changes
                                    </h5>
                                </div>
                                <div class="dashboard-card-body">
                                    <div class="history-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1 small">Status Updated</h6>
                                                <p class="text-muted small mb-1">Changed from "Checked Out" to "Available"</p>
                                                <small class="text-muted">by John Doe</small>
                                            </div>
                                            <small class="text-muted">Dec 20, 2024</small>
                                        </div>
                                    </div>
                                    <div class="history-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1 small">Asset Created</h6>
                                                <p class="text-muted small mb-1">Initial asset entry</p>
                                                <small class="text-muted">by Jane Smith</small>
                                            </div>
                                            <small class="text-muted">Dec 15, 2024</small>
                                        </div>
                                    </div>
                                    <div class="text-center mt-3">
                                        <button class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#historyModal">
                                            View Full History
                                        </button>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                    </div>
                </div>
            </main>

            <!-- Footer -->
            <footer class="dashboard-footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12 text-center">
                            <p class="mb-0 text-muted"> 2025 Kiaalap. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- History Modal -->
    <div class="modal fade" id="historyModal" tabindex="-1" aria-labelledby="historyModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="historyModalLabel">Asset Change History</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="timeline">
                        <div class="history-item mb-4">
                            <div class="d-flex">
                                <div class="timeline-icon bg-primary text-white rounded-circle p-2 me-3">
                                    <i class="bi bi-pencil"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">Status Updated</h6>
                                    <p class="text-muted mb-1">Changed from "Checked Out" to "Available"</p>
                                    <small class="text-muted">by John Doe on Dec 20, 2024 at 2:30 PM</small>
                                </div>
                            </div>
                        </div>
                        <div class="history-item mb-4">
                            <div class="d-flex">
                                <div class="timeline-icon bg-warning text-white rounded-circle p-2 me-3">
                                    <i class="bi bi-bookmark-check"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">Asset Checked Out</h6>
                                    <p class="text-muted mb-1">Checked out by Student ID: 2025001 (Emily Chen)</p>
                                    <small class="text-muted">by Library System on Dec 18, 2024 at 10:15 AM</small>
                                </div>
                            </div>
                        </div>
                        <div class="history-item mb-4">
                            <div class="d-flex">
                                <div class="timeline-icon bg-info text-white rounded-circle p-2 me-3">
                                    <i class="bi bi-plus-circle"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">Asset Created</h6>
                                    <p class="text-muted mb-1">Initial asset entry with basic information</p>
                                    <small class="text-muted">by Jane Smith on Dec 15, 2024 at 9:00 AM</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal fade" id="checkoutModal" tabindex="-1" aria-labelledby="checkoutModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="checkoutModalLabel">Check Out Asset</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="checkoutForm">
                        <div class="mb-3">
                            <label for="studentId" class="form-label">Student/Faculty ID</label>
                            <input type="text" class="form-control" id="studentId" placeholder="Enter ID or scan barcode" required>
                        </div>
                        <div class="mb-3">
                            <label for="dueDate" class="form-label">Due Date</label>
                            <input type="date" class="form-control" id="dueDate" required>
                        </div>
                        <div class="mb-3">
                            <label for="checkoutNotes" class="form-label">Notes (Optional)</label>
                            <textarea class="form-control" id="checkoutNotes" rows="2" placeholder="Any special instructions..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" form="checkoutForm" class="btn btn-primary">Check Out</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-danger" id="deleteModalLabel">Delete Asset</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger" role="alert">
                        <i class="bi bi-exclamation-triangle me-2"></i>
                        <strong>Warning!</strong> This action cannot be undone.
                    </div>
                    <p>Are you sure you want to permanently delete <strong>"Introduction to Computer Science"</strong>?</p>
                    <p class="text-muted small">This will remove the asset from all library records and cannot be recovered.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete Asset</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts with defer -->
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="src/js/dashboard.js" defer></script>

    <script defer>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('editAssetForm');
            const imageInput = document.getElementById('coverImage');
            const selectImageBtn = document.getElementById('selectImageBtn');
            const previewArea = document.getElementById('imagePreview');
            const previewContainer = document.getElementById('imagePreviewContainer');
            const previewImg = document.getElementById('previewImg');
            const removeImageBtn = document.getElementById('removeImageBtn');

            // Store original form data for reset functionality
            const originalFormData = new FormData(form);

            // Image upload functionality
            selectImageBtn.addEventListener('click', () => imageInput.click());

            imageInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    handleImageUpload(file);
                }
            });

            function handleImageUpload(file) {
                if (file.size > 5 * 1024 * 1024) {
                    alert('File size must be less than 5MB');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImg.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }

            removeImageBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to remove the cover image?')) {
                    imageInput.value = '';
                    previewImg.src = 'https://via.placeholder.com/300x400?text=No+Image';
                }
            });

            // Form validation and submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                e.stopPropagation();

                if (form.checkValidity()) {
                    const submitBtn = form.querySelector('button[type="submit"]');
                    const originalText = submitBtn.innerHTML;
                    submitBtn.innerHTML = '<i class="spinner-border spinner-border-sm me-2"></i>Updating...';
                    submitBtn.disabled = true;

                    setTimeout(() => {
                        alert('Asset updated successfully!');
                        console.log('Updated form data:', new FormData(form));
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                    }, 2000);
                }

                form.classList.add('was-validated');
            });

            // Reset form functionality
            document.getElementById('resetForm').addEventListener('click', function() {
                if (confirm('Are you sure you want to reset all changes?')) {
                    form.reset();
                    // Restore original values
                    document.getElementById('assetTitle').value = 'Introduction to Computer Science';
                    document.getElementById('assetCategory').value = 'books';
                    document.getElementById('assetAuthor').value = 'Thomas H. Cormen, Charles E. Leiserson';
                    document.getElementById('assetPublisher').value = 'MIT Press';
                    document.getElementById('assetISBN').value = '978-0-262-03384-8';
                    document.getElementById('assetEdition').value = '4th';
                    document.getElementById('assetYear').value = '2022';
                    document.getElementById('assetDescription').value = 'A comprehensive introduction to computer algorithms and data structures. This book provides a thorough coverage of fundamental computer science concepts with practical examples and exercises.';
                    document.getElementById('assetLocation').value = 'main-library';
                    document.getElementById('assetStatus').value = 'available';
                    document.getElementById('assetCopies').value = '3';
                    document.getElementById('assetPrice').value = '89.99';
                    document.getElementById('assetAcquisition').value = '2024-12-15';
                    document.getElementById('assetCallNumber').value = 'QA76.6.C662';
                    document.getElementById('assetLanguage').value = 'english';
                    document.getElementById('assetPages').value = '1312';
                    document.getElementById('assetSubjects').value = 'Computer Science, Algorithms, Data Structures, Programming';
                    document.getElementById('assetNotes').value = 'Popular textbook for CS101 and CS102 courses. High demand during fall semester.';
                    form.classList.remove('was-validated');
                    previewImg.src = 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop&crop=face';
                }
            });

            // Duplicate asset functionality
            document.getElementById('duplicateAsset').addEventListener('click', function() {
                if (confirm('Create a duplicate of this asset?')) {
                    console.log('Creating duplicate asset...');
                    // In real app, would copy current data and redirect to add-library-assets.html
                }
            });

            // Preview functionality
            document.getElementById('previewAsset').addEventListener('click', function() {
                console.log('Showing asset preview...');
                // Would show a modal with asset preview
            });

            // Delete functionality
            document.getElementById('confirmDeleteBtn').addEventListener('click', function() {
                const deleteBtn = this;
                const originalText = deleteBtn.innerHTML;
                deleteBtn.innerHTML = '<i class="spinner-border spinner-border-sm me-2"></i>Deleting...';
                deleteBtn.disabled = true;

                setTimeout(() => {
                    alert('Asset deleted successfully!');
                    // In real app, would redirect to library-assets.html
                    window.location.href = 'library-assets.html';
                }, 2000);
            });

            // Checkout form functionality
            const checkoutForm = document.getElementById('checkoutForm');
            checkoutForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const studentId = document.getElementById('studentId').value;
                const dueDate = document.getElementById('dueDate').value;

                if (studentId && dueDate) {
                    console.log('Checking out asset to:', studentId, 'Due:', dueDate);
                    bootstrap.Modal.getInstance(document.getElementById('checkoutModal')).hide();
                    alert('Asset checked out successfully!');
                    // Update status
                    document.getElementById('assetStatus').value = 'checked-out';
                }
            });

            // Set default due date to 2 weeks from today
            const dueDateInput = document.getElementById('dueDate');
            const twoWeeksFromNow = new Date();
            twoWeeksFromNow.setDate(twoWeeksFromNow.getDate() + 14);
            dueDateInput.value = twoWeeksFromNow.toISOString().split('T')[0];
        });
    </script>
</body>
</html>