{{> head}}

<style>
/* Tree View Styles */
.tree-demo-card {
    background: white;
    border-radius: 12px;
    padding: 30px;
    margin-bottom: 24px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.tree-view {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.tree-view ul {
    list-style: none;
    padding-left: 30px;
    margin: 10px 0;
}

.tree-view li {
    margin: 5px 0;
    position: relative;
}

.tree-node {
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s ease;
    user-select: none;
}

.tree-node:hover {
    background: #f3f4f6;
}

.tree-node.active {
    background: #e0e7ff;
    color: #4361ee;
}

.tree-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border-radius: 3px;
    background: #e5e7eb;
    font-size: 10px;
    transition: transform 0.2s ease;
}

.tree-toggle.expanded {
    transform: rotate(90deg);
}

.tree-icon {
    font-size: 16px;
    color: #6b7280;
}

.tree-icon.folder {
    color: #f59e0b;
}

.tree-icon.file {
    color: #4361ee;
}

.tree-children {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.tree-children.expanded {
    max-height: 1000px;
}

/* Styled Tree Variant */
.tree-view.styled .tree-node {
    border: 1px solid #e5e7eb;
    background: white;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.tree-view.styled .tree-node:hover {
    border-color: #4361ee;
    box-shadow: 0 2px 4px rgba(67, 97, 238, 0.1);
}

/* Compact Tree Variant */
.tree-view.compact .tree-node {
    padding: 4px 8px;
    font-size: 14px;
}

.tree-view.compact ul {
    padding-left: 20px;
}

/* Badge Styles */
.tree-badge {
    margin-left: auto;
    padding: 2px 8px;
    font-size: 11px;
    border-radius: 12px;
    background: #e0e7ff;
    color: #4361ee;
}
</style>

{{> sidebar}}

<!-- Main Content Wrapper -->
<div class="main-wrapper" id="mainWrapper">
    {{> header}}

    <!-- Main Content -->
    <main class="dashboard-content" id="main-content">
        <div class="container-fluid">
            <!-- Page Header -->
            <div class="mb-4">
                <h1 class="h3 mb-0 text-gray-800">Tree View</h1>
                <p class="text-muted">Interactive hierarchical tree view component (100% jQuery-free)</p>
            </div>

            <!-- Basic Tree View -->
            <div class="tree-demo-card">
                <h5 class="mb-3">Basic Tree View</h5>
                <ul class="tree-view" id="basicTree">
                    <li>
                        <div class="tree-node">
                            <span class="tree-toggle">▶</span>
                            <i class="bi bi-folder-fill tree-icon folder"></i>
                            <span>Documents</span>
                        </div>
                        <ul class="tree-children">
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle">▶</span>
                                    <i class="bi bi-folder-fill tree-icon folder"></i>
                                    <span>Work</span>
                                </div>
                                <ul class="tree-children">
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-text-fill tree-icon file"></i>
                                            <span>Report.pdf</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-text-fill tree-icon file"></i>
                                            <span>Presentation.pptx</span>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle">▶</span>
                                    <i class="bi bi-folder-fill tree-icon folder"></i>
                                    <span>Personal</span>
                                </div>
                                <ul class="tree-children">
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-text-fill tree-icon file"></i>
                                            <span>Resume.docx</span>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <div class="tree-node">
                            <span class="tree-toggle">▶</span>
                            <i class="bi bi-folder-fill tree-icon folder"></i>
                            <span>Pictures</span>
                        </div>
                        <ul class="tree-children">
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle" style="visibility: hidden;"></span>
                                    <i class="bi bi-file-image-fill tree-icon file"></i>
                                    <span>Vacation.jpg</span>
                                </div>
                            </li>
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle" style="visibility: hidden;"></span>
                                    <i class="bi bi-file-image-fill tree-icon file"></i>
                                    <span>Family.png</span>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <div class="tree-node">
                            <span class="tree-toggle">▶</span>
                            <i class="bi bi-folder-fill tree-icon folder"></i>
                            <span>Downloads</span>
                        </div>
                        <ul class="tree-children">
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle" style="visibility: hidden;"></span>
                                    <i class="bi bi-file-zip-fill tree-icon file"></i>
                                    <span>Archive.zip</span>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- Styled Tree View -->
            <div class="tree-demo-card">
                <h5 class="mb-3">Styled Tree View with Badges</h5>
                <ul class="tree-view styled" id="styledTree">
                    <li>
                        <div class="tree-node">
                            <span class="tree-toggle">▶</span>
                            <i class="bi bi-folder-fill tree-icon folder"></i>
                            <span>Course Materials</span>
                            <span class="tree-badge">12</span>
                        </div>
                        <ul class="tree-children">
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle">▶</span>
                                    <i class="bi bi-folder-fill tree-icon folder"></i>
                                    <span>Computer Science</span>
                                    <span class="tree-badge">5</span>
                                </div>
                                <ul class="tree-children">
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-pdf-fill tree-icon file"></i>
                                            <span>Data Structures.pdf</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-pdf-fill tree-icon file"></i>
                                            <span>Algorithms.pdf</span>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle">▶</span>
                                    <i class="bi bi-folder-fill tree-icon folder"></i>
                                    <span>Mathematics</span>
                                    <span class="tree-badge">7</span>
                                </div>
                                <ul class="tree-children">
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-pdf-fill tree-icon file"></i>
                                            <span>Calculus I.pdf</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-pdf-fill tree-icon file"></i>
                                            <span>Linear Algebra.pdf</span>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- Compact Tree View -->
            <div class="tree-demo-card">
                <h5 class="mb-3">Compact Tree View</h5>
                <ul class="tree-view compact" id="compactTree">
                    <li>
                        <div class="tree-node">
                            <span class="tree-toggle">▶</span>
                            <i class="bi bi-folder tree-icon folder"></i>
                            <span>src</span>
                        </div>
                        <ul class="tree-children">
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle">▶</span>
                                    <i class="bi bi-folder tree-icon folder"></i>
                                    <span>components</span>
                                </div>
                                <ul class="tree-children">
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-code tree-icon file"></i>
                                            <span>Header.js</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-code tree-icon file"></i>
                                            <span>Footer.js</span>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="tree-node">
                                    <span class="tree-toggle">▶</span>
                                    <i class="bi bi-folder tree-icon folder"></i>
                                    <span>utils</span>
                                </div>
                                <ul class="tree-children">
                                    <li>
                                        <div class="tree-node">
                                            <span class="tree-toggle" style="visibility: hidden;"></span>
                                            <i class="bi bi-file-code tree-icon file"></i>
                                            <span>helpers.js</span>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </main>

    {{> footer}}
</div>

{{> scripts}}

<script>
// Tree View functionality (Vanilla JavaScript)
document.addEventListener('DOMContentLoaded', function() {
    // Initialize all tree views
    const treeViews = document.querySelectorAll('.tree-view');

    treeViews.forEach(treeView => {
        // Get all tree nodes with children
        const nodes = treeView.querySelectorAll('.tree-node');

        nodes.forEach(node => {
            const toggle = node.querySelector('.tree-toggle');
            const children = node.parentElement.querySelector('.tree-children');

            if (!children || toggle.style.visibility === 'hidden') {
                return;
            }

            // Toggle click handler
            toggle.addEventListener('click', function(e) {
                e.stopPropagation();

                const isExpanded = children.classList.contains('expanded');

                if (isExpanded) {
                    children.classList.remove('expanded');
                    toggle.classList.remove('expanded');
                } else {
                    children.classList.add('expanded');
                    toggle.classList.add('expanded');
                }
            });

            // Node click handler (for selection)
            node.addEventListener('click', function(e) {
                // Remove active class from all nodes in this tree
                const allNodes = treeView.querySelectorAll('.tree-node');
                allNodes.forEach(n => n.classList.remove('active'));

                // Add active class to clicked node
                node.classList.add('active');
            });
        });
    });
});
</script>