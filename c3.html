{{> head}}

<style>
/* Critical CSS for immediate render */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #f5f7fa; }
        .sidebar { position: fixed; left: 0; top: 0; width: 260px; height: 100vh; background: #1f2937; z-index: 1040; }
        .main-wrapper { margin-left: 260px; min-height: 100vh; transition: margin-left 0.3s ease; }
        .top-navbar { background: white; height: 60px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); padding: 0 1rem; }
        .dashboard-content { padding: 24px; }

        /* Loading animation */
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .loading { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; background: #e5e7eb; }
</style>

{{> sidebar}}

<!-- Main Content Wrapper -->
<div class="main-wrapper" id="mainWrapper">
    {{> header}}

    <!-- Main Content -->
    <main class="dashboard-content" id="main-content">
        <div class="container-fluid">
<!-- Page Header -->
            <div class="mb-3">
                <h1 class="h3 font-bold">C3 Charts</h1>
                <p class="text-muted text-sm">Interactive charts powered by C3.js and D3.js for advanced data visualization</p>
            </div>

            <!-- Charts Grid -->
            <div class="dashboard-grid">
                <!-- Line Chart -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-title-wrapper">
                            <h3 class="card-title">Multi-Line Chart</h3>
                            <p class="card-subtitle">Student enrollment trends over time</p>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="lineChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Area Chart -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-title-wrapper">
                            <h3 class="card-title">Area Chart</h3>
                            <p class="card-subtitle">Course completion rates</p>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="areaChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Bar Chart -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-title-wrapper">
                            <h3 class="card-title">Bar Chart</h3>
                            <p class="card-subtitle">Department enrollment comparison</p>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="barChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Pie Chart -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-title-wrapper">
                            <h3 class="card-title">Pie Chart</h3>
                            <p class="card-subtitle">Student distribution by level</p>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="pieChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Donut Chart -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-title-wrapper">
                            <h3 class="card-title">Donut Chart</h3>
                            <p class="card-subtitle">Student status overview</p>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="donutChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Spline Chart -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-title-wrapper">
                            <h3 class="card-title">Spline Chart</h3>
                            <p class="card-subtitle">Academic performance trends</p>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="splineChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>        </div>
    </main>

    {{> footer}}
</div>

{{> scripts}}

<script>
document.addEventListener('DOMContentLoaded', function() {
            try {
                // Line Chart
                const lineCtx = document.getElementById('lineChart').getContext('2d');
                new Chart(lineCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                        datasets: [{
                            label: 'Students',
                            data: [30, 200, 100, 400, 150, 250, 300],
                            borderColor: '#007bff',
                            backgroundColor: 'rgba(0,123,255,0.1)',
                            tension: 0.4
                        }, {
                            label: 'Professors',
                            data: [50, 20, 10, 40, 15, 25, 50],
                            borderColor: '#dc3545',
                            backgroundColor: 'rgba(220,53,69,0.1)',
                            tension: 0.4
                        }, {
                            label: 'Courses',
                            data: [100, 150, 80, 200, 120, 180, 220],
                            borderColor: '#28a745',
                            backgroundColor: 'rgba(40,167,69,0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'top' }
                        },
                        scales: {
                            y: {
                                grid: { display: true },
                                beginAtZero: true
                            }
                        }
                    }
                });

                // Area Chart
                const areaCtx = document.getElementById('areaChart').getContext('2d');
                new Chart(areaCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                        datasets: [{
                            label: 'Enrollment',
                            data: [300, 350, 300, 400, 500, 450, 600],
                            borderColor: '#007bff',
                            backgroundColor: 'rgba(0,123,255,0.3)',
                            fill: true,
                            tension: 0.4
                        }, {
                            label: 'Graduates',
                            data: [130, 100, 140, 200, 150, 180, 250],
                            borderColor: '#dc3545',
                            backgroundColor: 'rgba(220,53,69,0.3)',
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'top' }
                        },
                        scales: {
                            y: {
                                grid: { display: true },
                                beginAtZero: true
                            }
                        }
                    }
                });

                // Bar Chart
                const barCtx = document.getElementById('barChart').getContext('2d');
                new Chart(barCtx, {
                    type: 'bar',
                    data: {
                        labels: ['2019', '2020', '2021', '2022', '2023'],
                        datasets: [{
                            label: 'Computer Science',
                            data: [120, 140, 160, 180, 200],
                            backgroundColor: '#007bff'
                        }, {
                            label: 'Mathematics',
                            data: [80, 90, 100, 110, 120],
                            backgroundColor: '#dc3545'
                        }, {
                            label: 'Physics',
                            data: [60, 70, 80, 90, 100],
                            backgroundColor: '#28a745'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'top' }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });

                // Pie Chart
                const pieCtx = document.getElementById('pieChart').getContext('2d');
                new Chart(pieCtx, {
                    type: 'pie',
                    data: {
                        labels: ['Undergraduate', 'Graduate', 'PhD', 'Research'],
                        datasets: [{
                            data: [45, 25, 15, 15],
                            backgroundColor: ['#007bff', '#dc3545', '#28a745', '#ffc107']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'right' },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.parsed;
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = ((value / total) * 100).toFixed(1);
                                        return label + ': ' + percentage + '%';
                                    }
                                }
                            }
                        }
                    }
                });

                // Donut Chart
                const donutCtx = document.getElementById('donutChart').getContext('2d');
                new Chart(donutCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Active Students', 'Inactive', 'Alumni', 'Dropouts'],
                        datasets: [{
                            data: [350, 50, 200, 25],
                            backgroundColor: ['#007bff', '#dc3545', '#28a745', '#ffc107']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'right' },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.label + ': ' + context.parsed;
                                    }
                                }
                            }
                        }
                    }
                });

                // Spline Chart (smooth line)
                const splineCtx = document.getElementById('splineChart').getContext('2d');
                new Chart(splineCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                        datasets: [{
                            label: 'Academic Performance',
                            data: [100, 165, 140, 270, 200, 140, 300, 250, 180, 350],
                            borderColor: '#007bff',
                            backgroundColor: 'rgba(0,123,255,0.1)',
                            tension: 0.4
                        }, {
                            label: 'Attendance Rate',
                            data: [80, 125, 110, 200, 160, 120, 220, 190, 150, 280],
                            borderColor: '#dc3545',
                            backgroundColor: 'rgba(220,53,69,0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'top' }
                        },
                        scales: {
                            y: {
                                grid: { display: true },
                                beginAtZero: true
                            }
                        }
                    }
                });

                console.log('All Chart.js charts initialized successfully');
            } catch (error) {
                console.error('Error initializing Chart.js charts:', error);
            }
        });
</script>